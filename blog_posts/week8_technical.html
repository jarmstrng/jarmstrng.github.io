<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Blogging Fun Times</title>

	<link rel="stylesheet" media="screen" href="http://jarmstrng.github.io/crafted2.css">
	<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.csszengarden.com/zengarden.xml">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="jarmstrng">
	<meta name="description" content="A beginning programmer's blog.">
	<meta name="robots" content="all">
</head>

<!--

This CSS design was heavily lifted from the Creative Commons "Handcrafted" by Elliot Jay Stocks on CSS Zen Garden at http://www.csszengarden.com/217//
	
-->

<body id="css-zen-garden">
<div class="page-wrapper">

	<section class="intro" id="zen-intro">
		<header role="banner">
			<h1>jarmstrng.github.io</h1>
			<h3>Beginning Programming: Active Record in Ruby/Rails</h3>
			<time datetime="2014-07-27">27 July 2014</time>
		</header>

<!-- 		<div class="summary" id="zen-summary" role="article">
			<p>Exploring the eccentricities of the web, technology, and life.</p>
			<p>Also, learning via poking things with a stick.</p>
		</div> -->

		<div class="preamble" id="zen-preamble" role="article">

<p>The goal of this article is to introduce the concepts behind ActiveRecord and active record pattern to beginning programmers so that they can go on to successfully complete beginning tutorials without being confused by the terminology, etc.

<h3>What is ActiveRecord?</h3>
<p>"Active record pattern" is an <a href="http://jarmstrng.github.io/blog_posts/week6_technical.html">object-oriented paradigm</a> for relational databases (nothing here will make sense if you don't have any idea what that means, so <a href="http://jarmstrng.github.io/blog_posts/week6_technical.html">go read up</a> if you need to and then come back here when you're done.) 

<p>Objects contain data and methods that can act on that data, and so in your database there is a Class for the table, and an instance of that class is a row in the table. The row/object has both data and some functions that can be used to act on that data. 

<p>ActiveRecord is a Ruby library that uses the active record pattern. It comes with the Ruby on Rails framework but is also available as a gem and can be used independently of Rails. It gives you access to handy methods for your Class/table to inherit and use, so you can easily interact with your database in an object-oriented way.

<h3>How it works/Examples</h3>
<p>"Class methods are used to perform table-level operations, and instance methods perform operations on the individual rows." - <a href="http://rubylearning.com/satishtalim/ruby_activerecord_and_mysql.html">RubyLearning.com</a>

<p>In the example below, we define the table <code>users</code> as a Class, <code>User</code>. We also define the table <code>things</code> as the Class <code>Thing</code>.

<p>We make both classes children of ActiveRecord's <code>Base</code> class so that they can inherit methods like <code>primary_key</code> and <code>column_for_attribute</code> (and more!), which define the primary key field and return the column object for the named attribute, respectively.</p>
<p>
<blockquote><pre>
	class User < ActiveRecord::Base
	  has_many :things
	end

	class Thing < ActiveRecord::Base
	  belongs_to :user
	end

	james = user.create(:name => 'James')
</pre></blockquote>
<p>
<p>As you might have guessed, <code>Base</code> also includes the methods <code>has_many</code> and <code>belongs_to</code>, which help to define the relationships between tables in your database.

<p>And finally, we have created <code>james</code> as an instance of the class <code>User</code>, and 'James' will go in the :name column of the <code>users</code> table.

<p>There is a lot more to do in order to make this code work, including defining the tables themselves (imagine that!), which you can easily learn about in one of many tutorials - a couple of which are listed below.

<h3>Pros</h3>
<p>By wrapping up data with the methods that can interact with them, active record pattern informs the programmer as to what can be done with that data. Inheritance increases functionality by creating access to a whole host of useful functions that do not have to be defined every time you create a new table/Class.

<h3>Cons</h3>
<p>When you go to test your code to make sure it works, because your data and your methods all wrapped together it is hard to test without a database! To get around this you may need to create a testing database or pass your data as an argument. (See also <a href="http://jgaskins.org/blog/2012/04/20/data-mapper-vs-active-record/" target="new">Data Mapper vs Active Record</a>.)

<h3>Alternatives</h3>
<p>A similar-yet-different option to ActiveRecord in Ruby is <a href="http://sequel.jeremyevans.net/rdoc/files/README_rdoc.html" target="new">Sequel</a>, which is newer to the scene yet offers a few features developers might find appealing, such as a decreased need to use raw SQL in your queries.

<p>And of course, Ruby isn't the only language with libraries to implement active record architecture. Listing them all isn't the goal of this article, but a quick Google search or Wikipedia reference will help you to learn more about them.

<p>Nor is <a href="http://martinfowler.com/eaaCatalog/activeRecord.html" target="new">active record</a> the only object-oriented approach to relational databases. Data mapper pattern "moves data between objects and a database while keeping them independent of each other and the mapper itself." (<a href="http://martinfowler.com/eaaCatalog/dataMapper.html" target="new">Martin Fowler</a>) 

<p>Objects created with an active record approach contain methods including create, read, update, and delete (<a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="new">CRUD</a>). Objects created with a data mapper pattern, though, have a separate "layer" that takes care of those actions. This relieves some of the pain of testing, as you can more easily test your non-CRUD methods.</p>


		</div>
	</section>

	<div class="main supporting" id="zen-supporting" role="main">
		<div class="explanation" id="zen-explanation" role="article">
			
			<h3>Expand your learning</h3>

<p>This article cannot possibly cover all the ins and outs of active record pattern and ActiveRecord, but should give give you enough of an understanding to go out and learn more on your own. 


		</div>

		<div class="participation" id="zen-participation" role="article">

			<h4>Sources/Additional Reading:</h4>
<a href="http://en.wikipedia.org/wiki/Active_record_pattern" target="new">Wikipedia: Active Record Pattern</a>
<br><a href="http://en.wikipedia.org/wiki/Object-relational_mapping" target="new">Wikipedia: Object-Relational Mapping</a>
<br><a href="http://rubylearning.com/satishtalim/ruby_activerecord_and_mysql.html" target="new">ActiveRecord and MySQL</a>
<br><a href="http://www.integralist.co.uk/posts/sqlite-and-activerecord/" target="new">SQLite and ActiveRecord</a>
<br><a href="http://guides.rubyonrails.org/active_record_basics.html" target="new">Rails: Active Record Basics</a>
<br><a href="http://guides.rubyonrails.org/active_record_querying.html" target="new">Rails: Active Record Querying</a>
<br><a href="http://jgaskins.org/blog/2012/04/20/data-mapper-vs-active-record/" target="new">Data Mapper vs Active Record</a>

		</div>

		<footer>
			<a href="http://jarmstrng.github.io/" target="blank">Home</a> <a href="http://jarmstrng.github.io/blog_posts/week6_technical.html" target="blank">Ruby Newb's Intro to Classes and Object-Orientedness</a>
		</footer>

	</div>


	<aside class="sidebar" role="complementary">
		<div class="wrapper">

			<div class="design-selection" id="design-selection">
				<h3 class="select">Posts:</h3>
				<nav role="navigation">
					<ul>
					<li>
						<a href="http://jarmstrng.github.io/blog_posts/week3_technical.html" class="design-name">Chicken or Egg? The Popularity of JavaScript</a>
					</li>					<li>
						<a href="http://jarmstrng.github.io/blog_posts/week4_technical.html" class="design-name">Ruby Loops Demystified</a>
					</li>					<li>
						<a href="http://jarmstrng.github.io/blog_posts/week5_technical.html" class="design-name">A Ruby Noob's Intro to Classes and Object-Orientedness</a>
					</li>					<li>
						<a href="http://jarmstrng.github.io/blog_posts/week6_technical.html" class="design-name">Ruby's Object-Orientedness, Inheritance, Concurrency, Clojure, Software Transactional Memory, Functional Programming...</a>
					</li>					<li>
						<a href="http://jarmstrng.github.io/blog_posts/week7_technical.html" class="design-name">SQL Query Optimization</a>
					</li>					<li>
						<a href="http://jarmstrng.github.io/blog_posts/week6_cultural_blog.html" class="design-name">How To Be More Than A Stereotype</a>
					</li>					<li>
						<a href="http://jarmstrng.github.io/blog_posts/week7_cultural.html" class="design-name">The Value of Continued Learning</a>
					</li>					<li>
						<a href="jarmstrng.github.io/blog_posts/week8_cultural_blog.html" class="design-name">Integrity in the Workplace</a>
					</li>					</ul>
				</nav>
				<h3 class="select">DevBootcamp:</h3>
				<nav role="navigation">
					<ul>
						<li>	
							<a href="http://jarmstrng.github.io/blog_posts/week5_cultural.html" class="design-name">DevBootcamp Pairing/Feedback Q and A</a></li>											
						<li>
							<a href="http://jarmstrng.github.io/blog_posts/week8_review.html" class="design-name">Reflections on Blogging</a></li>	
						<li>
							<a href="http://jarmstrng.github.io/blog_posts/week1_technical.html">Hello World</a></li>
					</ul>
				</nav>
			</div>


		</div>
	</aside>


</div>

<div class="extra1" role="presentation"></div><div class="extra2" role="presentation"></div><div class="extra3" role="presentation"></div>
<div class="extra4" role="presentation"></div><div class="extra5" role="presentation"></div><div class="extra6" role="presentation"></div>

</body>
</html>